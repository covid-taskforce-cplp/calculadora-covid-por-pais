<!doctype html>
<!--
    Licen√ßa: Dom√≠nio P√∫blico
    Codigo Fonte: https://github.com/covid-taskforce-cplp/calculadora-covid-por-pais
-->

<html lang="pt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="./css/codigo-terceiros/bootstrap.min.css">
  <title>covid-taskforce-cplp/calculadora-covid-por-pais v0.2.0</title>
</head>

<body>
  <div class="container">
    <h1>covid-taskforce-cplp/calculadora-covid-por-pais v0.2.0 <sup>alpha</sup></h1>
    
    <form id="formulario-simulacao">
      <div class="row">
        <div class="col-sm">
          <div class="form-group">
            <label for="populacao-total-sugestao">Popula√ß√£o pr√©-definidas</label>
            <select class="form-control" id="populacao-total-sugestao" aria-describedby="populacao-total-dica" disabled>
              <option>Customizado</option>
              <option>üáßüá∑ Brasil</option>
            </select>
            <small id="populacao-total-sugestao-dica" class="form-text text-muted">Voc√™ pode escolher uma sugest√£o de regi√£o em vez de customizar popula√ß√£o total</small>
          </div>
        </div>
        <div class="col-sm">
          <div class="form-group">
            <label for="populacao-total">Popula√ß√£o Total</label>
            <input type="number" class="form-control" id="populacao-total" aria-describedby="populacao-total-dica" placeholder="Popula√ß√£o total" value="209300000">
            <small id="populacao-total-dica" class="form-text text-muted">Informe a popula√ß√£o total da regi√£o. Ex.: 209.300.000 √© popula√ß√£o do üáßüá∑ Brasil</small>
          </div>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-sm">
          <div class="form-group">
            <label for="populacao-infectada-percentual-sugestao">Popula√ß√£o infectada (%) pr√©-definidas</label>
            <select class="form-control" id="populacao-infectada-percentual-sugestao" aria-describedby="populacao-infectada-percentual-dica" disabled>
              <option>Customizado</option>
              <option>üáßüá∑ Brasil</option>
            </select>
            <small id="populacao-infectada-percentual-sugestao-dica" class="form-text text-muted">Estimativas sugeridas conforme relat√≥rios oficiais</small>
          </div>
        </div>
        <div class="col-sm">
          <div class="form-group">
            <label for="populacao-infectada-percentual">Popula√ß√£o infectada (%)</label>
            <input type="number" class="form-control" id="populacao-infectada-percentual" aria-describedby="populacao-infectada-percentual-dica" placeholder="Popula√ß√£o total" value="60">
            <small id="populacao-infectada-percentual-dica" class="form-text text-muted">Valor de 0 a 100. Representa o % de da popula√ß√£o total que <em>no final</em> da epidemia na regi√£o teria sido contamidana</small>
          </div>
          <div class="form-group">
            <label for="epidemia-letalidade-media">Letalidade infec√ß√£o</label>
            <small id="epidemia-letalidade-media-dica" class="form-text text-muted">
              Nesta vers√£o, ainda n√£o √© poss√≠vel especificar letalidade por faixa de idade.
              Por favor use uma m√©dia global.
            </small>
            <!-- <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="validationTooltipUsernamePrepend">0-99+</span>
              </div>
              <input type="text" class="form-control" id="validationTooltipUsername" placeholder="Username" aria-describedby="validationTooltipUsernamePrepend" required>
              <div class="invalid-tooltip">
                Please choose a unique and valid username.
              </div>
            </div> -->
            
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">0-99+</span>
              </div>
              <!--
                NOTA: na minha opini√£o o formulario nem mesmo deveria permitir
                      simular acima de 30%; a justificativa √© que n√£o encontrei
                      na literatura (mesmo se n√£o tiver qualquer tratamento
                      m√©dico e pessoa em idade avan√ßada) uma letalidade maior
                      que uns 20~25% (fititnt, 2020-13-26 16:56 BRT)
              -->
              <input type="number" min="0" max="30" step="0.01" class="form-control" id="epidemia-letalidade-media" aria-describedby="epidemia-letalidade-media-dica" placeholder="Informe um percentual" value="0.5">
            </div>
            
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button type="submit" class="btn btn-primary" id="recalcular">Calcular simula√ß√£o</button>
        </div>
      </div>
       <div class="row">
         <div class="col-sm-12">
           <br>
          <div class="form-check">
             <input type="checkbox" class="form-check-input" id="termos-de-uso" checked>
             <label class="form-check-label" for="termos-de-uso">
               Sim, eu aceito os <a href="#" onclick="jQuery('#aviso-de-limitacoes').toggle();">
                 termos de uso, e entendo que este tipo de simula√ß√£o tem limita√ß√µes
               </a>
             </label>
           </div>
           <div id="aviso-de-limitacoes" class="alert alert-warning" role="alert" style="display: none">
             TODO: adicionar n√£o apenas avisos de isen√ß√£o de responsabilidade
               mas tamb√©m problemas mais √≥bvios de usar esse tipo de
               simula√ß√£o assumindo pessoas que n√£o v√£o ler as refer√™ncias
               no tema.
           </div>
         </div>
      </div>
      <hr />

    </form>

    <h2 id="resultados">Resultado simula√ß√£o atual</h2>

    <!-- <button type="submit" class="btn btn-primary">Submit</button> -->
    <div class="alert alert-info" role="alert">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Faixa-et√°ria</th>
            <th scope="col">Total inicial</th>
            <th scope="col">Total sobrevivente</th>
            <th scope="col">Total √≥bitos</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">0-99+</th>
            <td><span id="resultado-total-inicial"></span></td>
            <td><span id="resultado-vivos"></span></td>
            <td><span id="resultado-obitos" class="text-danger"></span></td>
          </tr>
        </tbody>
      </table>

    </div>
    <ol>
      <li>Funcionalidade de pr√©-carregar popula√ß√£o pr√©-definida ainda n√£o funciona; usu√°rio precisa informar manualmente</li>

      <li>A simula√ß√£o atual n√£o permite especificar faixas de idade</li>
    </ol>
    <hr />
    <div>
      <h2 id="referencias">Refer√™ncias</h2>
      <h3>Estimativas de impacto</h3>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Organiza√ß√£o</th>
            <th scope="col">T√≠tulo</th>
            <th scope="col">Coment√°rios</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">1</th>
            <td>Imperial College COVID-19 Response Team</td>
            <td>
              <a href="https://www.imperial.ac.uk/media/imperial-college/medicine/sph/ide/gida-fellowships/Imperial-College-COVID19-NPI-modelling-16-03-2020.pdf">
                Impact of non-pharmaceutical interventions (NPIs) to reduce COVID19 mortality and healthcare demand
              </a>
            </td>
            <td></td>
          </tr>
        </tbody>
      </table>
      <h3>Refer√™ncias de modelos matem√°ticos</h3>
      <p><em>TODO: adicionair mais informa√ß√µes</em></p>
      <!--
        https://en.wikipedia.org/wiki/Mathematical_modelling_of_infectious_disease
      -->
    </div>
    <hr />
    <div class="alert alert-secondary" role="alert">
      Discuss√£o em <a href="https://www.facebook.com/groups/coronaviruscplp/permalink/539215950056726/">https://www.facebook.com/groups/coronaviruscplp/permalink/539215950056726/</a>
      <sup>(requer convite, fale com membros antes)</sup>. <br>
      Como √© feito o c√°lculo? Veja <a href="https://github.com/covid-taskforce-cplp/calculadora-covid-por-pais/blob/master/js/calculadora-logica.js">js/calculadora-logica.js</a>.
    </div>

  </div>

  <script src="./js/codigo-terceiros/jquery-3.4.1.slim.min.js"></script>
  <script src="./js/codigo-terceiros/popper.min.js"></script>
  <script src="./js/codigo-terceiros/bootstrap.min.js"></script>
  <script src="./js/codigo-terceiros/js.storage.min.js"></script>
  <script src="./js/calculadora-inicializacao.js"></script>
  <script src="./js/calculadora-logica.js"></script>
  <script src="./js/calculadora-ui.js"></script>
</body>

</html>
